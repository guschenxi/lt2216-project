(this["webpackJsonplt2216-project"]=this["webpackJsonplt2216-project"]||[]).push([[0],{25:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return parse}));var _srgs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9);function LOG(t){}function clone(t){if(null==t||"object"!=typeof t)return t;var e=new t.constructor;for(var n in t)e[n]=clone(t[n]);return e}function isEmpty(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function Chart(t){this.numberOfWords=t,this.passives=new Array(t),this.actives=new Array(t);for(var e=0;e<=t;e++)this.passives[e]={},this.actives[e]={};this.add=function(t){var e,n;return t.isPassive?(e=this.passives[t.start],n=t.lhs):(e=this.actives[t.end],n=t.next.content),n in e||(e[n]={}),!(t in e[n])&&(e[n][t]=t,!0)},this.resultsForRule=function(e,n,i){n=n||0,i=i||t;var o=[],a=this.passives[n][e];for(var r in a)a[r].end==i&&o.push(a[r].out);return o},this.allEdges=function(){return this.allPassiveEdges().concat(this.allActiveEdges())},this.allPassiveEdges=function(){var t=[];for(var e in this.passives)for(var n in this.passives[e])for(var i in this.passives[e][n])t.push(this.passives[e][n][i]);return t},this.allActiveEdges=function(){var t=[];for(var e in this.actives)for(var n in this.actives[e])for(var i in this.actives[e][n])t.push(this.actives[e][n][i]);return t},this.statistics=function(){var t=this.allPassiveEdges().length,e=this.allActiveEdges().length;return{nrEdges:t+e,nrPassiveEdges:t,nrActiveEdges:e}}}function PassiveEdge(t,e,n,i){this.start=t,this.end=e,this.lhs=n,this.out=i,this.isPassive=!0;var o="["+t+"-"+e+"] $"+n+" := "+i;this._string=o,this.toString=function(){return this._string}}function ActiveEdge(t,e,n,i,o,a,r,s){this.start=t,this.end=e,this.lhs=n,this.next=i,this.rest=o,this.out=a,this.rules=r,this.text=s,this.isPassive=!1;var m="<"+t+"-"+e+"> $"+n+" -> "+i+", "+o+" := "+a+" <- "+r;this._string=m,this.toString=function(){return this._string}}function parse(words,grammar,root,filter){root||(root=grammar.$root);var chart=new Chart(words.length),agenda=[],leftCornerFilter;function addToChart(inference,start,end,lhs,rhs,out,rules,text){var edge;if(rhs.length>0){var next=rhs[0],rest=rhs.slice(1);switch(next.constructor){case Array:return void addToChart(inference+",SEQUENCE",start,end,lhs,next.concat(rest),out,rules,text);case _srgs__WEBPACK_IMPORTED_MODULE_0__.g:var min=next.min,max=next.max;if(min<=0&&addToChart(inference+",SKIP",start,end,lhs,rest,out,rules,text),max>0){var content=next.content,rhs=1==max?[content]:[content,_srgs__WEBPACK_IMPORTED_MODULE_0__.f(min?min-1:min,max-1,content)];addToChart(inference+",REPEAT",start,end,lhs,rhs.concat(rest),out,rules,text)}return;case _srgs__WEBPACK_IMPORTED_MODULE_0__.c:var oneof=next.content;for(var i in oneof){var rhs=oneof[i].concat(rest);addToChart(inference+",ONEOF",start,end,lhs,rhs,out,rules,text)}return;case _srgs__WEBPACK_IMPORTED_MODULE_0__.i:return out=clone(out),rules=clone(rules),eval(next.content),void addToChart(inference+",TAG",start,end,lhs,rest,out,rules,text)}edge=new ActiveEdge(start,end,lhs,next,rest,out,rules,text)}else edge=new PassiveEdge(start,end,lhs,out);chart.add(edge)&&(LOG("+ "+inference+": "+edge),agenda.push(edge))}for(leftCornerFilter=void 0==filter?function(){return!0}:function(t,e){var n=filter[t];return!n||words[e]in n},addToChart("INIT",0,0,root,grammar[root],{},{},{});agenda.length>0;){var edge=agenda.pop(),start=edge.start,end=edge.end,lhs=edge.lhs,next=edge.next;if(LOG(edge),edge.isPassive){var actives=chart.actives[start][lhs];for(var i in actives){var active=actives[i],rules=clone(active.rules),text=active.text;text[edge.lhs]=words.slice(start,end).join(" "),"object"==typeof edge.out&&isEmpty(edge.out)?rules[edge.lhs]=text[edge.lhs]:rules[edge.lhs]=clone(edge.out),addToChart("COMBINE",active.start,end,active.lhs,active.rest,active.out,rules,text)}}else if(next.constructor==_srgs__WEBPACK_IMPORTED_MODULE_0__.e){var ref=next.content,passives=chart.passives[end][ref];for(var i in passives){var passive=passives[i],rules=clone(edge.rules),text=edge.text;rules[passive.lhs]=clone(passive.out),text[passive.lhs]=passive.text,addToChart("COMBINE",start,passive.end,lhs,edge.rest,edge.out,rules,text)}ref in grammar&&leftCornerFilter(ref,end)&&addToChart("PREDICT",end,end,ref,grammar[ref],{},{},{})}else next==words[end]&&addToChart("SCAN",start,end+1,lhs,edge.rest,edge.out,edge.rules,edge.text)}return chart}},31:function(t,e,n){},42:function(t,e,n){"use strict";n.r(e);var i=n(28),o=n(13),a=(n(31),n(7),n(24)),r=n(2),s=n(21),m=n(46),u=n(45),c=n(11),g=n(9);function l(t){for(var e=function(t){if("undefined"!=typeof DOMParser)return(new DOMParser).parseFromString(t,"application/xml");if("undefined"!=typeof ActiveXObject){var e=XML.newDocument();return e.loadXML(t),e}var n="data:text/xml;charset=utf-8,"+encodeURIComponent(t),i=new XMLHttpRequest;return i.open("GET",n,!1),i.send(null),i.responseXML}(t),n=e.getElementsByTagName("grammar")[0].getAttribute("root"),i=new g.a(n),o=e.getElementsByTagName("rule"),a=0;a<o.length;a++){var r=o[a];i[r.getAttribute("id")]=h(r)}return i}function h(t){for(var e=t.childNodes,n=[],i=0;i<e.length;i++)if(3==e[i].nodeType){var o=e[i].textContent.trim();""!=o&&n.push(o.split(/ +/))}else if(1==e[i].nodeType)if("token"==e[i].nodeName)n.push(g.h(e[i].textContent));else if("ruleref"==e[i].nodeName){var a=e[i].getAttribute("uri");n.push(g.d(a.slice(1)))}else if("tag"==e[i].nodeName)n.push(g.h(e[i].textContent.trim()));else if("one-of"==e[i].nodeName)n.push(g.b(h(e[i])));else if("item"==e[i].nodeName){var r=e[i].getAttribute("repeat");if(r){var s=r.split("-"),m=parseInt(s[0]),u=parseInt(s[1]);u=u||1/0,n.push(g.f(m,u,h(e[i])))}else n.push(h(e[i]))}else console.log(e[i]);return n}var d=n(25);const p=c.a.send,f=c.a.cancel,v=l("\n<grammar root=\"final\">\n   <rule id=\"final\">\n      <tag>out = new Object(); </tag>\n      <ruleref uri=\"#opening\"/>\n         <item repeat=\"1-3\">\n             <one-of>\n                <item><ruleref uri=\"#person\"/><tag>out.person = rules.person;</tag></item>\n                <item><ruleref uri=\"#day\"/><tag>out.day = rules.day;</tag></item>\n                <item><ruleref uri=\"#time\"/><tag>out.time = rules.time;</tag></item>\n             </one-of>\n         </item>\n   </rule>\n   <rule id=\"person\">\n      <item repeat=\"0-1\">with</item>\n      <one-of> \n         <item> David <tag> out = 'David Svensson'; </tag></item>\n         <item> Monica <tag> out = 'Monica Johansson'; </tag></item>\n         <item> Sven <tag> out = 'Sven Svala'; </tag></item>\n         <item> Jack <tag> out = 'Jack Chen'; </tag></item>\n      </one-of>\n   </rule>\n   <rule id=\"day\">\n      <item repeat=\"0-1\">on</item><item repeat=\"0-1\">the</item>\n      <one-of> \n         <item> Monday <tag> out = 'Monday'; </tag></item>\n         <item> Tuesday <tag> out = 'Tuesday'; </tag></item>\n         <item> Wednesday <tag> out = 'Wednesday'; </tag></item>\n         <item> Thursday <tag> out = 'Thursday'; </tag></item>\n         <item> Friday <tag> out = 'Friday'; </tag></item>\n         <item> Saturday <tag> out = 'Saturday'; </tag></item>\n         <item> Sunday <tag> out = 'Sunday'; </tag></item>\n      </one-of>\n   </rule>\n   <rule id=\"time\">\n      <tag> out.ampm = \" \"; </tag>\n      <item repeat=\"0-1\"> at </item>\n      <one-of>\n         <item><ruleref uri=\"#hour\"/><tag>out.hour = rules.hour; out.minute = \"00\"</tag></item>\n         <item><ruleref uri=\"#hour\"/>:00<tag>out.hour = rules.hour; out.minute = \"00\"</tag></item>\n         <item><ruleref uri=\"#hour\"/>:<ruleref uri=\"#minute\"/><tag>out.hour = rules.hour; out.minute = rules.minute;</tag></item>\n         <item><ruleref uri=\"#minute\"/><tag> out.minute = rules.minute; </tag> past <ruleref uri=\"#hour\"/><tag>out.hour = rules.hour; </tag></item>\n         <item><ruleref uri=\"#minute\"/><tag> out.minute = 60 - rules.minute; </tag> to <ruleref uri=\"#hour\"/><tag>out.hour = rules.hour - 1; </tag></item>\n      </one-of>\n      <item repeat=\"0-1\"> o'clock </item>\n      <item repeat=\"0-1\">\n          <one-of>\n              <item>a.m.<tag> out.ampm = \"a.m.\"; </tag></item>\n              <item>p.m.<tag> out.ampm = \"p.m.\"; </tag></item>\n          </one-of>\n       </item>\n   </rule>\n   <rule id=\"minute\">\n      <one-of>\n         <item><item repeat = \"1-2\"><one-of><item>0</item><item>o</item></one-of></item> <tag> out = '00'; </tag></item>\n         <item><item repeat = \"0-1\"><one-of><item>0</item><item>o</item></one-of></item>1 <tag> out = '01'; </tag></item>\n         <item><item repeat = \"0-1\"><one-of><item>0</item><item>o</item></one-of></item>2 <tag> out = '02'; </tag></item>\n         <item><item repeat = \"0-1\"><one-of><item>0</item><item>o</item></one-of></item>3 <tag> out = '03'; </tag></item>\n         <item><item repeat = \"0-1\"><one-of><item>0</item><item>o</item></one-of></item>4 <tag> out = '04'; </tag></item>\n         <item><item repeat = \"0-1\"><one-of><item>0</item><item>o</item></one-of></item>5 <tag> out = '05'; </tag></item>\n         <item><item repeat = \"0-1\"><one-of><item>0</item><item>o</item></one-of></item>6 <tag> out = '06'; </tag></item>\n         <item><item repeat = \"0-1\"><one-of><item>0</item><item>o</item></one-of></item>7 <tag> out = '07'; </tag></item>\n         <item><item repeat = \"0-1\"><one-of><item>0</item><item>o</item></one-of></item>8 <tag> out = '08'; </tag></item>\n         <item><item repeat = \"0-1\"><one-of><item>0</item><item>o</item></one-of></item>9 <tag> out = '09'; </tag></item>\n         <item>10 <tag> out = '10'; </tag></item>\n         <item>11<tag> out = '11'; </tag></item>\n         <item>12 <tag> out = '12'; </tag></item>\n         <item>13 <tag> out = '13'; </tag></item>\n         <item>14 <tag> out = '14'; </tag></item>\n         <item><one-of><item>15 </item><item><item repeat=\"0-1\">a</item>quarter</item></one-of> <tag> out = '15'; </tag></item>\n         <item>16 <tag> out = '16'; </tag></item>\n         <item>17 <tag> out = '17'; </tag></item>\n         <item>18 <tag> out = '18'; </tag></item>\n         <item>19 <tag> out = '19'; </tag></item>\n         <item>20 <tag> out = '20'; </tag></item>\n         <item>21 <tag> out = '21'; </tag></item>\n         <item>22 <tag> out = '22'; </tag></item>\n         <item>23 <tag> out = '23'; </tag></item>\n         <item>24 <tag> out = '24'; </tag></item>\n         <item>25 <tag> out = '25'; </tag></item>\n         <item>26 <tag> out = '26'; </tag></item>\n         <item>27 <tag> out = '27'; </tag></item>\n         <item>28 <tag> out = '28'; </tag></item>\n         <item>29 <tag> out = '29'; </tag></item>\n         <item><one-of><item>30 </item><item>half </item></one-of><tag> out = '30'; </tag></item>\n         <item>31 <tag> out = '31'; </tag></item>\n         <item>32 <tag> out = '32'; </tag></item>\n         <item>33 <tag> out = '33'; </tag></item>\n         <item>34 <tag> out = '34'; </tag></item>\n         <item>35 <tag> out = '35'; </tag></item>\n         <item>36 <tag> out = '36'; </tag></item>\n         <item>37 <tag> out = '37'; </tag></item>\n         <item>38 <tag> out = '38'; </tag></item>\n         <item>39 <tag> out = '39'; </tag></item>\n         <item>40 <tag> out = '40'; </tag></item>\n         <item>41 <tag> out = '41'; </tag></item>\n         <item>42 <tag> out = '42'; </tag></item>\n         <item>43 <tag> out = '43'; </tag></item>\n         <item>44 <tag> out = '44'; </tag></item>\n         <item>45 <tag> out = '45'; </tag></item>\n         <item>46 <tag> out = '46'; </tag></item>\n         <item>47 <tag> out = '47'; </tag></item>\n         <item>48 <tag> out = '48'; </tag></item>\n         <item>49 <tag> out = '49'; </tag></item>\n         <item>50 <tag> out = '50'; </tag></item>\n         <item>51 <tag> out = '51'; </tag></item>\n         <item>52 <tag> out = '52'; </tag></item>\n         <item>53 <tag> out = '53'; </tag></item>\n         <item>54 <tag> out = '54'; </tag></item>\n         <item>55 <tag> out = '55'; </tag></item>\n         <item>56 <tag> out = '56'; </tag></item>\n         <item>57 <tag> out = '57'; </tag></item>\n         <item>58 <tag> out = '58'; </tag></item>\n         <item>59 <tag> out = '59'; </tag></item>\n         <item>60 <tag> out = '60'; </tag></item>\n      </one-of>\n   </rule>\n   <rule id=\"hour\">\n      <one-of>\n         <item><item repeat = \"0-1\">zero</item> 1 <tag> out = '1'; </tag></item>\n         <item><item repeat = \"0-1\">zero</item> 2 <tag> out = '2'; </tag></item>\n         <item><item repeat = \"0-1\">zero</item> 3 <tag> out = '3'; </tag></item>\n         <item><item repeat = \"0-1\">zero</item> 4 <tag> out = '4'; </tag></item>\n         <item><item repeat = \"0-1\">zero</item> 5 <tag> out = '5'; </tag></item>\n         <item><item repeat = \"0-1\">zero</item> 6 <tag> out = '6'; </tag></item>\n         <item><item repeat = \"0-1\">zero</item> 7 <tag> out = '7'; </tag></item>\n         <item><item repeat = \"0-1\">zero</item> 8 <tag> out = '8'; </tag></item>\n         <item><item repeat = \"0-1\">zero</item> 9 <tag> out = '9'; </tag></item>\n         <item>10 <tag> out = '10'; </tag></item>\n         <item>11<tag> out = '11'; </tag></item>\n         <item>12 <tag> out = '12'; </tag></item>\n         <item>13 <tag> out = '13'; </tag></item>\n         <item>14 <tag> out = '14'; </tag></item>\n         <item>15 <tag> out = '15'; </tag></item>\n         <item>16 <tag> out = '16'; </tag></item>\n         <item>17 <tag> out = '17'; </tag></item>\n         <item>18 <tag> out = '18'; </tag></item>\n         <item>19 <tag> out = '19'; </tag></item>\n         <item>20 <tag> out = '20'; </tag></item>\n         <item>21 <tag> out = '21'; </tag></item>\n         <item>22 <tag> out = '22'; </tag></item>\n         <item>23 <tag> out = '23'; </tag></item>\n         <item>24 <tag> out = '24'; </tag></item>\n      </one-of>\n   </rule>\n  \n   <rule id=\"opening\">\n      <item repeat=\"0-1\">\n         <one-of>\n            <item>meeting</item>\n            <item>meeting with</item>\n            <item>create a meeting </item>\n            <item>create an appointment</item>\n            <item>appointment</item>\n         </one-of>\n      </item>\n   </rule>\n</grammar>\n"),y=l('\n<grammar root="final">\n   <rule id="final">\n         <tag>out = new Object();</tag>\n         <item repeat="1-2">\n             <one-of>\n                <item><ruleref uri="#yes"/><tag>out.yesnoanswer = rules.yes;</tag></item>\n                <item><ruleref uri="#no"/><tag>out.yesnoanswer = rules.no;</tag></item>\n             </one-of>\n         </item>\n   </rule>\n   <rule id="yes">\n      <tag> out = true; </tag>\n      <one-of> \n         <item> yes </item>\n         <item> of course </item>\n         <item> absolutely </item>\n         <item> right </item>\n         <item> that\'s right </item>\n         <item> confirm </item>\n      </one-of>\n   </rule>\n   <rule id="no">\n      <tag> out = false; </tag>\n      <one-of> \n         <item> no </item>\n         <item> no way </item>\n         <item> absolutely not </item>\n         <item> no no </item>\n      </one-of>\n   </rule>\n</grammar>\n');function E(t,e){console.log(t);var n=Object(d.a)(t.split(/\s+/),e).resultsForRule(v.$root);return console.log(n),n[0]}function x(t){return p((e=>({type:"SPEAK",value:t})))}function b(){return[p("LISTEN"),p("MAXSPEECH",{delay:6e3,id:"maxsp"})]}const _={initial:"who",id:"Timer",states:{welcome:{initial:"prompt",states:{prompt:{entry:x("Hej, V\xe4lkommen hit! ")}}},who:{initial:"prompt",on:{RECOGNISED:t=>x(t.recResult)},states:{prompt:{entry:p((t=>({type:"SPEAK",value:"Hej, vem ska du se? \u4f60\u597d\uff01Hello!"}))),on:{ENDSPEECH:"ask"}},ask:{entry:b()},nomatch:{entry:x("Sorry I don't know them. Say for example Monica"),on:{ENDSPEECH:"prompt"}}}}}},S=["stop","start over","help","go back"];x("Ok. starting over."),x("Going back to the root menu."),x("I can't help you at the moment. Going back to the previous step."),x("timeout. say help if you need personal help"),Object(r.b)((t=>({count:t.count+1}))),Object(r.b)((t=>({count:0}))),p((t=>({type:"SPEAK",value:"Sorry. Going back to the root menu now."}))),x("Let's create an appointment"),Object(r.b)((t=>({person:E(t.recResult,v).person}))),f("maxsp"),p((t=>({type:"SPEAK",value:"Who are you meeting with?"}))),b(),x("Sorry I don't know them. Say for example Monica"),Object(r.b)((t=>({day:E(t.recResult,v).day}))),f("maxsp"),p((t=>({type:"SPEAK",value:"OK. Meeting with ".concat(t.person,".")}))),p((t=>({type:"SPEAK",value:" On which day is your meeting? "}))),b(),x("Sorry I don't understand which day you mean. Say for example on Tuesday"),Object(r.b)((t=>({whole_day:E(t.recResult,y).yesnoanswer}))),f("maxsp"),p((t=>({type:"SPEAK",value:"OK. Meeting with ".concat(t.person," on ").concat(t.day,".")}))),p((t=>({type:"SPEAK",value:" Will it take the whole day?"}))),b(),x("Sorry I don't understand. Say yes or no."),Object(r.b)((t=>({time:E(t.recResult.replace(":"," : "),v).time}))),f("maxsp"),p((t=>({type:"SPEAK",value:"OK. "}))),p((t=>({type:"SPEAK",value:"What time is your meeting?"}))),b(),x("Sorry I don't understand which time you mean. Say for example at eleven"),Object(r.b)((t=>({confirm:E(t.recResult,y).yesnoanswer}))),f("maxsp"),p((t=>({type:"SPEAK",value:"Do you want me to creat an appointment with ".concat(t.person," on ").concat(t.day," for the whole day?")}))),b(),x("Sorry I don't understand. Say yes or no."),Object(r.b)((t=>({confirm:E(t.recResult,y).yesnoanswer}))),f("maxsp"),p((t=>({type:"SPEAK",value:"Do you want me to creat an appointment with ".concat(t.person," on ").concat(t.day," at ").concat(t.time.hour,":").concat(t.time.minute," ").concat(t.time.ampm,"?")}))),b(),x("Sorry I don't understand. Say yes or no."),x("Your appointment has been created! Going back to the root menu now."),x("Choose an item to do.");var O=n(23),w=n(14);Object(u.a)({url:"https://statecharts.io/inspect",iframe:!1});const j=Object(s.a)({id:"root",type:"parallel",context:{count:0},states:{dm:{initial:"init",id:"main",states:{init:{on:{CLICK:"#root.dm.Timer"}},Timer:Object(o.a)({},_)}},asrtts:{initial:"idle",states:{idle:{on:{LISTEN:"recognising",SPEAK:{target:"speaking",actions:Object(r.b)(((t,e)=>({ttsAgenda:e.value})))}}},recognising:{entry:"recStart",exit:"recStop",on:{ASRRESULT:{actions:["recLogResult",Object(r.b)(((t,e)=>({recResult:e.value})))],target:".match"},RECOGNISED:{actions:Object(r.b)((t=>({count:0}))),target:"idle"},MAXSPEECH:"idle"},states:{match:{entry:Object(r.q)("RECOGNISED")}}},speaking:{entry:"ttsStart",on:{ENDSPEECH:"idle"}}}}}},{actions:{recLogResult:t=>{console.log("<< ASR: "+t.recResult)},test:()=>{console.log("test")},logIntent:t=>{console.log("<< NLU intent: "+t.nluData.intent.name)}}}),A=t=>{switch(!0){case t.state.matches({asrtts:"recognising"}):return Object(w.jsx)("button",Object(o.a)(Object(o.a)({type:"button",className:"glow-on-hover",style:{animation:"glowing 20s linear"}},t),{},{children:"Listening..."}));case t.state.matches({asrtts:"speaking"}):return Object(w.jsx)("button",Object(o.a)(Object(o.a)({type:"button",className:"glow-on-hover",style:{animation:"bordering 1s infinite"}},t),{},{children:"Speaking..."}));default:return Object(w.jsx)("button",Object(o.a)(Object(o.a)({type:"button",className:"glow-on-hover"},t),{},{children:"Click to start"}))}};function C(){const t=Object(O.useSpeechSynthesis)({onEnd:()=>{g("ENDSPEECH")}}),e=t.speak,n=t.cancel,o=(t.speaking,Object(O.useSpeechRecognition)({onResult:t=>{g({type:"ASRRESULT",value:t})}})),a=o.listen,r=(o.listening,o.stop),s=Object(m.b)(j,{devTools:!0,actions:{recStart:Object(m.a)((()=>{console.log("Ready to receive a input."),a({interimResults:!1,continuous:!0,lang:"sv-SE"})})),recStop:Object(m.a)((()=>{console.log("Recognition stopped."),r()})),changeColour:Object(m.a)((t=>{console.log("Repainting..."),document.body.style.background=t.recResult})),ttsStart:Object(m.a)(((t,n)=>{console.log("Speaking..."),e({text:t.ttsAgenda,lang:"en-UK"});var i=new SpeechSynthesisUtterance;i.text=t.ttsAgenda,i.lang="sv-SE",console.log(i),speechSynthesis.speak(i)})),ttsCancel:Object(m.a)(((t,e)=>{console.log("TTS STOP..."),n()}))}}),u=Object(i.a)(s,3),c=u[0],g=u[1];u[2];return Object(w.jsx)("div",{className:"App",children:Object(w.jsx)(A,{state:c,onClick:()=>g("CLICK")})})}const k=document.getElementById("root");a.render(Object(w.jsx)(C,{}),k)},9:function(t,e,n){"use strict";function i(t){this.$root=t,this.VOID=[r([])],this.NULL=[],this.GARBAGE=[],this.$check=function(){for(var t in this)if("$root"!==t&&"$check"!==t)try{h(this[t])}catch(e){l("When checking grammar rule '"+t+"'",e)}}}function o(t){return new m(t)}function a(t){return new u(t)}function r(t){return new c(t)}function s(t,e,n){return new g(t,e,n)}function m(t){this.content=t,this._string="$"+t,this.toString=function(){return this._string}}function u(t){this.content=t,this._string="{"+t+"}",this.toString=function(){return this._string}}function c(t){this.content=t,this._string="("+t.join("|")+")",this.toString=function(){return this._string}}function g(t,e,n){this.min=t,this.max=e,this.content=n,this._string=this.content+"<"+this.min+"-"+(this.max==1/0?"":this.max)+">",this.toString=function(){return this._string}}function l(t,e){throw void 0==e?TypeError(t):TypeError(t+"; "+e.message)}function h(t){try{for(var e in t.constructor!==Array&&l("Expected Array, found "+t.constructor.name),t)t[e].constructor==Array?h(t[e]):t[e].constructor!=String&&t[e].checkExpansion()}catch(n){l("When checking sequence expansion",n)}}n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"h",(function(){return a})),n.d(e,"b",(function(){return r})),n.d(e,"f",(function(){return s})),n.d(e,"e",(function(){return m})),n.d(e,"i",(function(){return u})),n.d(e,"c",(function(){return c})),n.d(e,"g",(function(){return g})),m.prototype.checkExpansion=function(){this.content.constructor!==String&&l("When checking Ref content; Expected String, found "+this.content.constructor.name)},u.prototype.checkExpansion=function(){this.content.constructor!==String&&l("When checking Tag content; Expected String, found "+this.content.constructor.name)},c.prototype.checkExpansion=function(){try{for(var t in this.content.constructor!==Array&&l("Expected Array, found "+this.content.constructor.name),this.content)h(this.content[t])}catch(e){l("When checking OneOf content",e)}},g.prototype.checkExpansion=function(){try{this.min.constructor===Number&&this.max.constructor===Number||l("Expected min/max to be Number, found "+this.min.constructor.name+"/"+this.max.constructor.name),0<=this.min&&this.min<=this.max||l("Expected 0 <= min <= max, found "+this.min+"/"+this.max),h(this.content)}catch(t){l("When checking Repeat content",t)}}}},[[42,1,2]]]);
//# sourceMappingURL=main.5db82430.chunk.js.map